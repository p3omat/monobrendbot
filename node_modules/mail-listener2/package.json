{
  "name": "mail-listener2",
  "version": "0.1.8",
  "description": "Mail listener library for node.js. Get notification when new email arrived.",
  "dependencies": {
    "imap": "~0.8.14",
    "mailparser": "~0.4.6",
    "async": "^0.9.0"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/chirag04/mail-listener2.git"
  },
  "homepage": "https://github.com/chirag04/mail-listener2",
  "keywords": [
    "mail",
    "job",
    "imap",
    "mail listener",
    "email",
    "email parser"
  ],
  "author": {
    "name": "Chirag Jain",
    "email": "jain_chirag04@yahoo.com",
    "url": "http://chiragjain.tumblr.com"
  },
  "license": "MIT",
  "readme": "# Overview\n\nMail-listener2 library for node.js. Get notification when new email arrived to inbox. Uses IMAP protocol.\n\nWe are using these libraries: [node-imap](https://github.com/mscdex/node-imap), [mailparser](https://github.com/andris9/mailparser).\n\nHeavily inspired by [mail-listener](https://github.com/circuithub/mail-listener).\n\n## Use\n\nInstall\n\n`npm install mail-listener2`\n\n\nJavaScript Code:\n\n\n```javascript\n\nvar MailListener = require(\"mail-listener2\");\n\nvar mailListener = new MailListener({\n  username: \"imap-username\",\n  password: \"imap-password\",\n  host: \"imap-host\",\n  port: 993, // imap port\n  tls: true,\n  tlsOptions: { rejectUnauthorized: false },\n  mailbox: \"INBOX\", // mailbox to monitor\n  searchFilter: [\"UNSEEN\", \"FLAGGED\"], // the search filter being used after an IDLE notification has been retrieved\n  markSeen: true, // all fetched email willbe marked as seen and not fetched next time\n  fetchUnreadOnStart: true, // use it only if you want to get all unread email on lib start. Default is `false`,\n  mailParserOptions: {streamAttachments: true}, // options to be passed to mailParser lib.\n  attachments: true, // download attachments as they are encountered to the project directory\n  attachmentOptions: { directory: \"attachments/\" } // specify a download directory for attachments\n});\n\nmailListener.start(); // start listening\n\n// stop listening\n//mailListener.stop();\n\nmailListener.on(\"server:connected\", function(){\n  console.log(\"imapConnected\");\n});\n\nmailListener.on(\"server:disconnected\", function(){\n  console.log(\"imapDisconnected\");\n});\n\nmailListener.on(\"error\", function(err){\n  console.log(err);\n});\n\nmailListener.on(\"mail\", function(mail, seqno, attributes){\n  // do something with mail object including attachments\n  console.log(\"emailParsed\", mail);\n  // mail processing code goes here\n});\n\nmailListener.on(\"attachment\", function(attachment){\n  console.log(attachment.path);\n});\n\n// it's possible to access imap object from node-imap library for performing additional actions. E.x.\nmailListener.imap.move(:msguids, :mailboxes, function(){})\n\n```\n\nThat's easy!\n\n## Attachments\nAttachments can be streamed or buffered. This feature is based on how [mailparser](https://github.com/andris9/mailparser#attachments) handles attachments. \nSetting `attachments: true` will download attachments as buffer objects by default to the project directory.\nA specific download directory may be specified by setting `attachmentOptions: { directory: \"attachments/\"}`. \nAttachments may also be streamed using `attachmentOptions: { stream: \"true\"}`. The `\"attachment\"` event will be fired every time an attachment is encountered.\nRefer to the [mailparser docs](https://github.com/andris9/mailparser#attachment-streaming) for specifics on how to stream attachments.\n\n\n## License\n\nMIT\n",
  "readmeFilename": "readme.md",
  "bugs": {
    "url": "https://github.com/chirag04/mail-listener2/issues"
  },
  "_id": "mail-listener2@0.1.8",
  "dist": {
    "shasum": "8bebe5f82efa609d1304d44d86aadbaaa335e827"
  },
  "_from": "mail-listener2@",
  "_resolved": "https://registry.npmjs.org/mail-listener2/-/mail-listener2-0.1.8.tgz"
}
